<!DOCTYPE html>
<html>

<head>
  <title>Driver App</title>
</head>

<body>
  <h1>Driver App</h1>
  <div id="notification"></div>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();
    // Listen for ride request notifications
    socket.on('rideRequest', (data) => {
      const customerName = data.customerName;
      const pickup = data.pickup;
      const destination = data.destination;

      // Display notification to the driver
      const notification = document.getElementById('notification');
      notification.innerHTML = `New ride request from ${customerName}. Pickup location: ${pickup}. Destination: ${destination}.`;

      // Allow driver to accept or reject the ride request
      const acceptButton = document.createElement('button');
      acceptButton.innerHTML = 'Accept';
      acceptButton.onclick = () => {
        socket.emit('acceptRide');
      };

      const rejectButton = document.createElement('button');
      rejectButton.innerHTML = 'Reject';
      rejectButton.onclick = () => {
        socket.emit('rejectRide');
      };

      notification.appendChild(acceptButton);
      notification.appendChild(rejectButton);
    });
  </script>
</body>

</html>